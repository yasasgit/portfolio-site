
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with Meyawo landing page.">
    <meta name="author" content="Devcrud">
    <title>Infrastructure as Code Lab: From Terraform to Serverless</title>
    <!-- font icons -->
    <link rel="stylesheet" href="assets/vendors/themify-icons/css/themify-icons.css">
    <!-- Bootstrap + Meyawo main styles -->
    <link rel="stylesheet" href="assets/css/meyawo.css">
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">

<!-- Page Navbar -->
    <nav class="custom-navbar" data-spy="affix" data-offset-top="20">
        <div class="container">
            <a class="logo" href="#">Meyawo</a>
            <ul class="nav">
                <li class="item">
                    <a class="link" href="index.html">Home</a>
                </li>
                <li class="item">
                    <a class="link" href="blog.html">Blog</a>
                </li>
                <li class="item">
                    <a class="link" href="contact.html">Contact</a>
                </li>
                <li class="item ml-md-3">
                    <a href="components.html" class="btn btn-primary">Components</a>
                </li>
            </ul>
            <a href="javascript:void(0)" id="nav-toggle" class="hamburger hamburger--elastic">
                <div class="hamburger-box">
                    <div class="hamburger-inner"></div>
                </div>
            </a>
        </div>
    </nav><!-- End of Page Navbar -->



<!-- Dynamic Page Content -->
<section class="section pt-0" id="content">
        <!-- container -->
        <div class="container text-center">
        
        <section class="section" id="blog-post">
            <div class="container text-left">
                <h2 class="mb-4">Infrastructure as Code Lab: From Terraform to Serverless</h2>
                <p class="text-muted mb-2"><strong>By:</strong> Yasas Harshana | <strong>Date:</strong> 2025-07-07</p>
                <div class="article-content">
                    <h1>Infrastructure as Code Lab: From Terraform to Serverless</h1>
<p>In this tutorial, we'll walk through a complete <strong>Infrastructure as Code (IaC)</strong> lab setup using a suite of popular DevOps tools. You'll learn how tools like <strong>Terraform, Ansible, Docker, Helm, and the Serverless Framework</strong> work together to provision, configure, deploy, and scale applications in the cloud.</p>
<blockquote>
<p><strong>Note:</strong> This is a high-level walkthrough, ideal for beginners exploring how modern infrastructure automation fits together.</p>
</blockquote>
<hr />
<h2>üöÄ What You'll Build</h2>
<ul>
<li>AWS cloud infrastructure with Terraform</li>
<li>Kubernetes cluster with Ansible (via Kubespray)</li>
<li>Containerized app using Docker</li>
<li>Application deployed with Helm</li>
<li>Serverless function via the Serverless Framework</li>
</ul>
<hr />
<h2>üß∞ Prerequisites</h2>
<ul>
<li>Mac/Linux system or Windows with <strong>WSL2</strong></li>
<li>AWS account with billing enabled</li>
<li>SSH key pair (locally generated)</li>
</ul>
<hr />
<h2>üî® Step 1: Provision Infrastructure with Terraform</h2>
<p>Terraform helps us define and spin up cloud resources using code.</p>
<p><strong>Highlights:</strong>
- Uses <strong>Kubespray</strong>'s Terraform config (<code>contrib/terraform/aws</code>)
- Launches VPC, bastion, master &amp; worker nodes
- Scalable by editing <code>terraform.tfvars</code></p>
<p>```hcl</p>
<h1>terraform.tfvars</h1>
<p>aws_region = "us-west-2"
cluster_name = "k8s-lab"
bastion_size = "t2.micro"
number_of_workers = 4
```</p>
<p><strong>Commands:</strong>
<code>bash
terraform validate      # check for syntax errors
terraform plan          # preview changes
terraform apply         # create/update infrastructure</code></p>
<hr />
<h2>‚öôÔ∏è Step 2: Configure Kubernetes with Ansible</h2>
<p>Ansible installs and configures Kubernetes components.</p>
<ul>
<li>Uses <code>cluster.yml</code> and <code>scale.yml</code> playbooks from Kubespray</li>
<li>Leverages the inventory file generated by Terraform</li>
</ul>
<p><strong>Run Playbooks:</strong>
<code>bash
ansible-playbook -i inventory/hosts.yaml cluster.yml     # full install
ansible-playbook -i inventory/hosts.yaml scale.yml       # add new nodes</code></p>
<hr />
<h2>üê≥ Step 3: Containerize the App with Docker</h2>
<p>Containerize a sample Go-based Word Cloud Generator.</p>
<p><strong>Dockerfile:</strong>
<code>Dockerfile
FROM alpine:3.18
COPY word-cloud-generator /opt/
EXPOSE 8888
ENTRYPOINT ["/opt/word-cloud-generator"]</code></p>
<p><strong>Build &amp; Run:</strong>
<code>bash
make docker-build
make docker-run   # binds to localhost:8888</code></p>
<p><strong>Push to Docker Hub:</strong>
<code>bash
make docker-push</code></p>
<hr />
<h2>üì¶ Step 4: Deploy with Helm</h2>
<p>Use Helm to deploy your containerized app to Kubernetes.</p>
<p><strong>Steps:</strong>
- Create a custom Helm chart:
<code>bash
helm create wordcloud</code>
- Edit <code>values.yaml</code> to define your app image and settings:
<code>yaml
replicaCount: 3
image:
  repository: your-dockerhub-username/wordcloud
  tag: latest-amd64
service:
  type: LoadBalancer
  port: 8888</code></p>
<p><strong>Deploy App:</strong>
<code>bash
helm install wordcloud ./wordcloud -f values.yaml</code></p>
<p><strong>Verify:</strong>
<code>bash
kubectl get pods
kubectl get svc</code></p>
<hr />
<h2>‚ö° Step 5: Go Serverless</h2>
<p>Deploy a Node.js API using the <strong>Serverless Framework</strong>.</p>
<p><strong>Install &amp; Create App:</strong>
<code>bash
npm install -g serverless
serverless create --template aws-nodejs --path infra-as-code-demo
cd infra-as-code-demo</code></p>
<p><strong>Deploy:</strong>
<code>bash
serverless deploy</code></p>
<p><strong>Edit <code>handler.js</code>:</strong></p>
<p><code>js
module.exports.hello = async () =&gt; {
  return {
    statusCode: 200,
    body: JSON.stringify({ message: "Hi LinkedIn Learning!" })
  };
};</code></p>
<p><strong>Redeploy:</strong>
<code>bash
serverless deploy</code></p>
<hr />
<h2>‚úÖ Final Thoughts</h2>
<p>By combining these tools:
- You gain full automation over your infrastructure lifecycle
- You reduce manual errors and increase repeatability
- You leverage scalable, reusable patterns</p>
<blockquote>
<p>üîÅ Always test in dev before deploying to production. The IaC ecosystem thrives on community‚Äîreuse responsibly and contribute back!</p>
</blockquote>
                </div>
            </div>
        </section>
        
    </div>
</section>
    <!-- footer -->
    <div class="container">
        <footer class="footer">
            <p class="mb-0">Copyright
                <script>document.write(new Date().getFullYear())</script> &copy; <a
                    href="http://www.devcrud.com">DevCRUD</a> Distribution <a
                    href="https://themewagon.com">ThemeWagon</a>
            </p>
            <div class="social-links text-right m-auto ml-sm-auto">
                <a href="javascript:void(0)" class="link"><i class="ti-facebook"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-twitter-alt"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-google"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-pinterest-alt"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-instagram"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-rss"></i></a>
            </div>
        </footer>
    </div> <!-- end of page footer -->

    <!-- core  -->
    <script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
    <script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>

    <!-- bootstrap 3 affix -->
    <script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>

    <!-- Meyawo js -->
    <script src="assets/js/meyawo.js"></script>

</body>
</html>
